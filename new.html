<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Utkarsh ‚ù§Ô∏è</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        background: #1a1a1a;
        overflow-x: hidden;
        font-family: 'Comic Sans MS', sans-serif;
        color: white;
        text-align: center;
    }

    h1 {
        color: #ffb6ff;
        text-shadow: 0 0 10px #ff55ff, 0 0 25px #ff33aa;
        font-size: 3.5rem;
        animation: glow 2s ease-in-out infinite alternate;
        margin-top: 20px;
    }

    @keyframes glow {
        from { text-shadow: 0 0 10px #ff55ff; }
        to { text-shadow: 0 0 25px #ff22aa, 0 0 35px #ff66ff; }
    }

    .surprise-btn {
        margin-top: 20px;
        padding: 15px 40px;
        background: linear-gradient(45deg, #ff66ff, #ff99cc);
        border: none;
        border-radius: 40px;
        color: white;
        font-size: 1.3rem;
        cursor: pointer;
        box-shadow: 0 0 15px #ff66ff;
        animation: pop 1.5s infinite ease-in-out;
    }

    @keyframes pop {
        0% { transform: scale(1); }
        50% { transform: scale(1.08); }
        100% { transform: scale(1); }
    }

    .balloon {
        position: absolute;
        bottom: -100px;
        width: 50px;
        height: 70px;
        border-radius: 30px 30px 10px 10px;
        animation: float 7s infinite ease-in;
        opacity: 0.8;
    }

    @keyframes float {
        from { transform: translateY(0); }
        to { transform: translateY(-120vh); }
    }

    .heart {
        position: absolute;
        color: #ff6699;
        font-size: 20px;
        animation: fall 2.5s linear forwards;
    }

    @keyframes fall {
        from { transform: translateY(-20px) rotate(0deg); }
        to { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }

    /* QUIZ */
    #quiz-section {
        margin-top: 30px;
    }
    #quiz-section input {
        padding: 10px;
        font-size: 1.1rem;
        border-radius: 8px;
        border: none;
        margin-top: 10px;
    }
    #quiz-section button {
        margin-left: 10px;
        padding: 10px 20px;
        font-size: 1.1rem;
        border-radius: 10px;
        border: none;
        background: linear-gradient(45deg, #ff66ff, #ff99cc);
        color: white;
        cursor: pointer;
    }
    #wrong {
        color: #ff8080;
        margin-top: 10px;
        display: none;
    }

    /* PHOTO SECTION */
    #photo-section {
        display: none;
        margin-top: 20px;
    }

    .photo-box {
        width: 250px;
        height: 250px;
        border-radius: 20px;
        overflow: hidden;
        border: 4px solid #ff99cc;
        box-shadow: 0 0 20px #ff66cc;
        margin: 0 auto;
    }

    .photo-box img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    #cute-message {
        font-size: 1.3rem;
        margin: 20px auto;
        width: 85%;
        line-height: 1.5;
        color: #ffb6ff;
        text-shadow: 0 0 10px #ff33aa;
    }

    /* CAKE + CANDLE */
    #cake-section {
        display: none;
        margin-top: 25px;
    }

    #cake {
        font-size: 6rem;
    }

    .candle {
        width: 12px;
        height: 40px;
        background: white;
        margin: 0 auto;
        border-radius: 5px;
        position: relative;
    }

    .flame {
        width: 18px;
        height: 18px;
        background: yellow;
        border-radius: 50%;
        position: absolute;
        top: -22px;
        left: -3px;
        animation: flicker 0.3s infinite alternate;
    }

    @keyframes flicker {
        from { transform: scale(1); opacity: 1; }
        to { transform: scale(1.2); opacity: 0.7; }
    }

    @keyframes fadeOut {
        from { opacity: 1; transform: scale(1); }
        to { opacity: 0; transform: scale(0.2); }
    }

</style>
</head>

<body>

<h1>üéâ Happy Birthday, Utkarsh! ‚ù§Ô∏è</h1>

<!-- QUIZ SECTION -->
<div id="quiz-section">
    <p><b>Who is the cutest? üòò</b></p>
    <input type="text" id="answer" placeholder="Type your answer..." />
    <button onclick="checkAnswer()">Submit</button>
    <p id="wrong">Try again, love üíó</p>
</div>

<!-- PHOTO + MESSAGE -->
<div id="photo-section">
    <div class="photo-box">
        <img src="utkarsh.jpg.jpg" alt="Utkarsh">
    </div>

    <p id="cute-message">
        Happy Birthday to my alloo ki tikki, my forever boondi ka ladoo my kuchipuchikuuu love you babyyy  
        Utkarsh, you are my safest place‚Ä¶ my happiest feeling‚Ä¶ and my favorite person ever.  
        I love you more than these words, more than this page, and more than you'll ever know.  
        üíñ‚ú®
    </p>
</div>

<!-- CAKE + CANDLE -->
<div id="cake-section">
    <p>Now blow the candle love üéÇüí®</p>

    <div id="cake">üéÇ</div>
    <div class="candle">
        <div class="flame" id="flame"></div>
    </div>

    <p id="done" style="display:none; color:#ff99cc; margin-top:15px;">
        You blew it out, jaan! üíñ
    </p>
</div>

<script>
    // BALLOONS
    for (let i = 0; i < 15; i++) {
        let b = document.createElement("div");
        b.classList.add("balloon");
        b.style.left = Math.random() * 100 + "vw";
        b.style.backgroundColor = `hsl(${Math.random()*360}, 80%, 70%)`;
        b.style.animationDelay = Math.random() * 5 + "s";
        document.body.appendChild(b);
    }

    // CHECK QUIZ ANSWER
    function checkAnswer() {
        const answer = document.getElementById("answer").value.toLowerCase().trim();
        if (answer === "you") {
            document.getElementById("quiz-section").style.display = "none";
            showHearts();
        } else {
            document.getElementById("wrong").style.display = "block";
        }
    }

    // SHOW HEARTS + PHOTO + CAKE
    function showHearts() {
        for (let i = 0; i < 40; i++) {
            let heart = document.createElement("div");
            heart.classList.add("heart");
            heart.innerHTML = "‚ù§Ô∏è";
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.top = Math.random() * 40 + "vh";
            heart.style.fontSize = (15 + Math.random() * 25) + "px";
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 2500);
        }

        document.getElementById("photo-section").style.display = "block";
        document.getElementById("cake-section").style.display = "block";
    }

    // CLICK FLAME BLOW
    document.getElementById("flame").addEventListener("click", blowCandle);
    function blowCandle() {
        let flame = document.getElementById("flame");
        flame.style.animation = "fadeOut 1s forwards";
        document.getElementById("done").style.display = "block";
    }

    // MICROPHONE BLOW
    navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {
        const ctx = new AudioContext();
        const analyser = ctx.createAnalyser();
        const mic = ctx.createMediaStreamSource(stream);
        mic.connect(analyser);
        const data = new Uint8Array(analyser.frequencyBinCount);
        function detectBlow() {
            analyser.getByteFrequencyData(data);
            let volume = data.reduce((a, b) => a + b) / data.length;
            if (volume > 45) { blowCandle(); }
            requestAnimationFrame(detectBlow);
        }
        detectBlow();
    });

</script>

</body>
</html>
